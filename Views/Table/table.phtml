<table>
    <tr>
        <?php foreach ($this->getColumns() as $column) :?>
            <th><?= $column['header'] ?></th>
        <?php endforeach; ?>
        <?php if(isset($_SESSION['user'])) : ?>
            <?php if($_SESSION['user']['role'] == 2) : ?>
                <th>
                    Akce
                </th>
            <?php endif ?>
        <?php endif ?>
    </tr>
    <?php foreach ($this->getDataSet() as $row) : ?>
        <tr>
            <?php foreach($this->getColumns() as $key => $value) : ?>
                <td>
                    <?php if($key == 'firstname') : ?>
                        <?= $row[$key].' '.$row['surname'] ?>
                    <?php else :?>
                        <?= $row[$key] ?>
                    <?php endif; ?>
                </td>
            <? endforeach; ?>
            <?php if(isset($_SESSION['user'])) : ?>
                <?php if($_SESSION['user']['role'] == 2) : ?>
                    <td>
                        <a href="/<?= $this->getName() ?>/edit/<?= $row['id_'.$this->getName()]?>" class="btn-grey"> Upravit</a>
                        <?php if ($_SESSION['user']['id_user'] != $row['id_'.$this->getName() && $this->getName() !== 'user']) : ?>
                            <a href="/<?= $this->getName() ?>/delete/<?= $row['id_'.$this->getName()]?>" class="btn-red">Smazat</a>
                        <?php endif; ?>
                    </td>
                <?php endif ?>
            <?php endif ?>
        </tr>
    <? endforeach; ?>
</table>